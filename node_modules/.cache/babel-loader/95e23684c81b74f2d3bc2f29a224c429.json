{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/admin/Desktop/entertain-me/client/src/components/ResultsCard/index.js\";\n\nimport React, { useEffect } from 'react';\nimport { Row, Col } from 'react-materialize';\nimport _ from 'lodash';\nimport axios from \"axios\";\nimport { user } from \"../../utils/helpers\";\nimport $ from 'jquery';\nimport Poster from '../Poster';\nimport './style.css';\n{\n  $('.favorite-added').hide();\n}\n\nvar ResultsCard = function ResultsCard(props) {\n  useEffect(function () {\n    var allFavorites = favoritesTV.concat(favoritesMovie);\n    var existingFavorite = allFavorites.filter(function (el) {\n      return el.media_name === props.selection;\n    });\n    existingFavorite.length > 0 ? $('.favorite').hide() : $('.favorite').show();\n  }, [props]);\n  var token = props.token,\n      favoritesTV = props.favoritesTV,\n      favoritesMovie = props.favoritesMovie;\n\n  var addFavorite = function addFavorite() {\n    var userId = user()._id;\n\n    console.log(\"props: \", props);\n    var mediaName = props.selection;\n    var mediaType = props.mediaType; // hit put route to add favorite to current user\n\n    console.log(props);\n    var newFavList = props.favorites.slice();\n    newFavList.push({\n      media_name: mediaName,\n      media_type: mediaType\n    });\n    console.log({\n      newFavList: newFavList,\n      fav: props.favorites\n    });\n    props.setFavorites(newFavList);\n    axios.put(\"/api/favorites\", {\n      userId: userId,\n      mediaName: mediaName,\n      mediaId: props.id,\n      mediaType: mediaType\n    }).then(function (result) {\n      console.log(\"Adding favorites result: \", result);\n      axios.get('/api/favorites').then(function (response) {\n        console.log(\"Results card add favorites getCommunityFavorites response data: \", response.data);\n        props.setCommunityFavorites(response.data);\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    $('.favorite-added').show();\n    setTimeout(function () {\n      $('.favorite-added').hide();\n    }, 2000); // pass in media_type, name, and id, as well as user id\n    // update array in react state that is storing all the favorites\n  };\n\n  var setNotification = function setNotification() {\n    alert('NOTIFICATION SET');\n  };\n\n  var watchContent = function watchContent() {\n    alert('GO TO CONTENT PROVIDER');\n  };\n\n  var shareContent = function shareContent() {\n    alert('CONTENT SHARED');\n  };\n\n  console.log(props.overview);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"results-card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    m: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"results-card-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, props.selection)), /*#__PURE__*/React.createElement(Col, {\n    m: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, props.logo))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    m: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"backdrop-image\",\n    src: props.backdrop,\n    alt: props.selection,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    m: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    m: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"overview\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, _.truncate(props.overview, {\n    length: 320,\n    separator: '...'\n  }))), /*#__PURE__*/React.createElement(Col, {\n    m: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    m: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Poster, {\n    poster: props.poster,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    m: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"stats\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Release: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 22\n    }\n  }, props.release), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }), \"Genre: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 22\n    }\n  }, props.genre, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 43\n    }\n  }), props.genre2), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), \"Rating:\", ' ', /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, props.rating), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }), \"Runtime: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 24\n    }\n  }, props.runtime), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }), \"Viewer score: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }, props.score))), /*#__PURE__*/React.createElement(Col, {\n    m: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"stats2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"Starring: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 23\n    }\n  }, props.star1, props.star2), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 66\n    }\n  }), props.mediaType === 'tv' ? /*#__PURE__*/React.createElement(React.Fragment, null, \"Last Episode:\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 30\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, props.lastEpisode), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }), \"Aired:\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, props.lastAir)) : /*#__PURE__*/React.createElement(React.Fragment, null, \"Directed by: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 38\n    }\n  }, props.director, \" \", props.director2))))), /*#__PURE__*/React.createElement(Col, {\n    m: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, !token ? console.log('User is not logged in.') : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"result-btns\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: addFavorite,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"material-icons favorite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, \"favorite\")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: setNotification,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"material-icons notify\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, \"notifications\")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: watchContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"material-icons watch\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"tv\")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: shareContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"material-icons watch\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, \"share\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite-added\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 51\n    }\n  }, props.selection.toUpperCase()), \" added to favorites\"))), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"tmdb\",\n    src: \"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg\",\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default ResultsCard;","map":{"version":3,"sources":["/Users/admin/Desktop/entertain-me/client/src/components/ResultsCard/index.js"],"names":["React","useEffect","Row","Col","_","axios","user","$","Poster","hide","ResultsCard","props","allFavorites","favoritesTV","concat","favoritesMovie","existingFavorite","filter","el","media_name","selection","length","show","token","addFavorite","userId","_id","console","log","mediaName","mediaType","newFavList","favorites","slice","push","media_type","fav","setFavorites","put","mediaId","id","then","result","get","response","data","setCommunityFavorites","catch","error","setTimeout","setNotification","alert","watchContent","shareContent","overview","logo","backdrop","truncate","separator","poster","release","genre","genre2","rating","runtime","score","star1","star2","lastEpisode","lastAir","director","director2","toUpperCase"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,mBAAzB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,qBAArB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAO,aAAP;AACA;AAAED,EAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBE,IAArB;AAA6B;;AAC/B,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAE7BV,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMW,YAAY,GAAGC,WAAW,CAACC,MAAZ,CAAmBC,cAAnB,CAArB;AACA,QAAMC,gBAAgB,GAAGJ,YAAY,CAACK,MAAb,CAAoB,UAACC,EAAD;AAAA,aAAQA,EAAE,CAACC,UAAH,KAAkBR,KAAK,CAACS,SAAhC;AAAA,KAApB,CAAzB;AACAJ,IAAAA,gBAAgB,CAACK,MAAjB,GAA0B,CAA1B,GAA+Bd,CAAC,CAAC,WAAD,CAAD,CAAeE,IAAf,EAA/B,GAAyDF,CAAC,CAAC,WAAD,CAAD,CAAee,IAAf,EAAzD;AACD,GAJQ,EAIN,CAACX,KAAD,CAJM,CAAT;AAF6B,MAQrBY,KARqB,GAQkBZ,KARlB,CAQrBY,KARqB;AAAA,MAQdV,WARc,GAQkBF,KARlB,CAQdE,WARc;AAAA,MAQDE,cARC,GAQkBJ,KARlB,CAQDI,cARC;;AAS7B,MAAMS,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,QAAMC,MAAM,GAAGnB,IAAI,GAAGoB,GAAtB;;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBjB,KAAvB;AACA,QAAMkB,SAAS,GAAGlB,KAAK,CAACS,SAAxB;AACA,QAAMU,SAAS,GAAGnB,KAAK,CAACmB,SAAxB,CAJwB,CAKxB;;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;AACA,QAAMoB,UAAU,GAAGpB,KAAK,CAACqB,SAAN,CAAgBC,KAAhB,EAAnB;AACAF,IAAAA,UAAU,CAACG,IAAX,CAAgB;AACdf,MAAAA,UAAU,EAAEU,SADE;AAEdM,MAAAA,UAAU,EAAEL;AAFE,KAAhB;AAIAH,IAAAA,OAAO,CAACC,GAAR,CAAY;AAAEG,MAAAA,UAAU,EAAVA,UAAF;AAAcK,MAAAA,GAAG,EAAEzB,KAAK,CAACqB;AAAzB,KAAZ;AAEArB,IAAAA,KAAK,CAAC0B,YAAN,CAAmBN,UAAnB;AAEA1B,IAAAA,KAAK,CACFiC,GADH,CACO,gBADP,EACyB;AAAEb,MAAAA,MAAM,EAANA,MAAF;AAAUI,MAAAA,SAAS,EAATA,SAAV;AAAqBU,MAAAA,OAAO,EAAE5B,KAAK,CAAC6B,EAApC;AAAwCV,MAAAA,SAAS,EAATA;AAAxC,KADzB,EAEGW,IAFH,CAEQ,UAACC,MAAD,EAAY;AAChBf,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCc,MAAzC;AAEArC,MAAAA,KAAK,CACFsC,GADH,CACO,gBADP,EAEGF,IAFH,CAEQ,UAACG,QAAD,EAAc;AAClBjB,QAAAA,OAAO,CAACC,GAAR,CAAY,kEAAZ,EAAgFgB,QAAQ,CAACC,IAAzF;AACAlC,QAAAA,KAAK,CAACmC,qBAAN,CAA4BF,QAAQ,CAACC,IAArC;AACD,OALH;AAOD,KAZH,EAaGE,KAbH,CAaS,UAACC,KAAD,EAAW;AAChBrB,MAAAA,OAAO,CAACC,GAAR,CAAYoB,KAAZ;AACD,KAfH;AAiBAzC,IAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBe,IAArB;AACA2B,IAAAA,UAAU,CAAC,YAAM;AACf1C,MAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBE,IAArB;AACD,KAFS,EAEP,IAFO,CAAV,CAlCwB,CAsCxB;AACA;AACD,GAxCD;;AAyCA,MAAMyC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BC,IAAAA,KAAK,CAAC,kBAAD,CAAL;AACD,GAFD;;AAGA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBD,IAAAA,KAAK,CAAC,wBAAD,CAAL;AACD,GAFD;;AAGA,MAAME,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBF,IAAAA,KAAK,CAAC,gBAAD,CAAL;AACD,GAFD;;AAGAxB,EAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAK,CAAC2C,QAAlB;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoC3C,KAAK,CAACS,SAA1C,CADF,CADF,eAIE,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,KAAK,CAAC4C,IADT,CADF,CAJF,CAFF,eAaE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,gBADZ;AAEE,IAAA,GAAG,EAAE5C,KAAK,CAAC6C,QAFb;AAGE,IAAA,GAAG,EAAE7C,KAAK,CAACS,SAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAOE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,eAWE,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAaE,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhB,CAAC,CAACqD,QAAF,CAAW9C,KAAK,CAAC2C,QAAjB,EAA2B;AAC1BjC,IAAAA,MAAM,EAAE,GADkB;AAE1BqC,IAAAA,SAAS,EAAE;AAFe,GAA3B,CADH,CADF,CAbF,eAqBE,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBF,CAbF,eAqCE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAE/C,KAAK,CAACgD,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADA,eAIA,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAShD,KAAK,CAACiD,OAAf,CADX,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,0BAGW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASjD,KAAK,CAACkD,KAAf,eAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArB,EAA+BlD,KAAK,CAACmD,MAArC,CAHX,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,aAKY,GALZ,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnD,KAAK,CAACoD,MADT,CANF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,4BAUa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASpD,KAAK,CAACqD,OAAf,CAVb,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,iCAYkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASrD,KAAK,CAACsD,KAAf,CAZlB,CADF,CAJA,eAoBA,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCACY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAStD,KAAK,CAACuD,KAAf,EAAsBvD,KAAK,CAACwD,KAA5B,CADZ,eACuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADvD,EAEGxD,KAAK,CAACmB,SAAN,KAAoB,IAApB,gBACC,wEACe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADf,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASnB,KAAK,CAACyD,WAAf,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,yBAIQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJR,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASzD,KAAK,CAAC0D,OAAf,CALF,CADD,gBAOS,wEAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAS1D,KAAK,CAAC2D,QAAf,OAA0B3D,KAAK,CAAC4D,SAAhC,CAAf,CATZ,CADF,CApBA,CADF,eAmCE,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAChD,KAAD,GACCI,OAAO,CAACC,GAAR,CAAY,wBAAZ,CADD,gBAGG,uDACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,OAAO,EAAEJ,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,eAIE;AAAM,IAAA,OAAO,EAAE0B,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CAJF,eAOE;AAAM,IAAA,OAAO,EAAEE,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAPF,eAUE;AAAM,IAAA,OAAO,EAAEC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CAVF,eAaE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAS1C,KAAK,CAACS,SAAN,CAAgBoD,WAAhB,EAAT,CAAhC,wBAbF,CADF,CAJN,eAsBE;AACA,IAAA,SAAS,EAAC,MADV;AAEE,IAAA,GAAG,EAAC,oIAFN;AAGE,IAAA,GAAG,EAAC,EAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBF,CAnCF,CArCF,CADF;AAwGD,CArKD;;AAuKA,eAAe9D,WAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { Row, Col } from 'react-materialize';\nimport _ from 'lodash';\nimport axios from \"axios\";\nimport { user } from \"../../utils/helpers\";\nimport $ from 'jquery';\n\nimport Poster from '../Poster';\nimport './style.css'\n{ $('.favorite-added').hide() }\nconst ResultsCard = (props) => {\n\n  useEffect(() => {\n    const allFavorites = favoritesTV.concat(favoritesMovie);\n    const existingFavorite = allFavorites.filter((el) => el.media_name === props.selection)\n    existingFavorite.length > 0 ? ($('.favorite').hide()) : ($('.favorite').show());\n  }, [props]);\n\n  const { token, favoritesTV, favoritesMovie } = props;\n  const addFavorite = () => {\n    const userId = user()._id;\n    console.log(\"props: \", props);\n    const mediaName = props.selection;\n    const mediaType = props.mediaType;\n    // hit put route to add favorite to current user\n    console.log(props);\n    const newFavList = props.favorites.slice()\n    newFavList.push({\n      media_name: mediaName,\n      media_type: mediaType\n    })\n    console.log({ newFavList, fav: props.favorites })\n\n    props.setFavorites(newFavList);\n\n    axios\n      .put(\"/api/favorites\", { userId, mediaName, mediaId: props.id, mediaType })\n      .then((result) => {\n        console.log(\"Adding favorites result: \", result);\n\n        axios\n          .get('/api/favorites')\n          .then((response) => {\n            console.log(\"Results card add favorites getCommunityFavorites response data: \", response.data);\n            props.setCommunityFavorites(response.data);\n          })\n\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n    $('.favorite-added').show()\n    setTimeout(() => {\n      $('.favorite-added').hide()\n    }, 2000)\n\n    // pass in media_type, name, and id, as well as user id\n    // update array in react state that is storing all the favorites\n  };\n  const setNotification = () => {\n    alert('NOTIFICATION SET');\n  };\n  const watchContent = () => {\n    alert('GO TO CONTENT PROVIDER');\n  };\n  const shareContent = () => {\n    alert('CONTENT SHARED');\n  };\n  console.log(props.overview)\n\n  return (\n    <div className='results-card'>\n\n      <Row>\n        <Col m={6}>\n          <h4 className='results-card-title'>{props.selection}</h4>\n        </Col>\n        <Col m={6}>\n          <div className='logo'>\n            {props.logo}\n          </div>\n        </Col>\n      </Row>\n\n      <Row>\n        <Col m={5}>\n          <img\n            className='backdrop-image'\n            src={props.backdrop}\n            alt={props.selection}\n          />\n          <br></br>\n          <div className='details'>\n          </div>\n        </Col>\n        <Col m={1}></Col>\n\n        <Col m={5}>\n          <p className='overview'>\n            {_.truncate(props.overview, {\n              length: 320,\n              separator: '...',\n            })}\n          </p>\n        </Col>\n        <Col m={1}></Col>\n      </Row>\n\n      <Row >\n        <div className='details'>\n        <Col m={2}>\n          <Poster poster={props.poster} />\n        </Col>\n        <Col m={3}>\n          <div className='stats'>\n            Release: <strong>{props.release}</strong>\n            <br></br>\n              Genre: <strong>{props.genre}<br></br>{props.genre2}</strong>\n            <br></br>\n              Rating:{' '}\n            <strong>\n              {props.rating}\n            </strong>\n            <br></br>\n              Runtime: <strong>{props.runtime}</strong>\n            <br></br>\n              Viewer score: <strong>{props.score}</strong>\n          </div>\n        </Col>\n        <Col m={3}>\n          <div className='stats2'>\n            Starring: <strong>{props.star1}{props.star2}</strong><br></br>\n            {props.mediaType === 'tv' ? (\n              <>\n                Last Episode:<br></br>\n                <strong>{props.lastEpisode}</strong>\n                <br></br>\n                Aired:<br></br>\n                <strong>{props.lastAir}</strong>\n              </>) : (<>Directed by: <strong>{props.director} {props.director2}</strong></>)}\n          </div>\n        </Col>\n        </div>\n        <Col m={3}>\n          {!token ? (\n            console.log('User is not logged in.')\n          ) : (\n              <>\n                <div className='result-btns'>\n                  <span onClick={addFavorite}>\n                    <span className='material-icons favorite'>favorite</span>\n                  </span>\n                  <span onClick={setNotification}>\n                    <span className='material-icons notify'>notifications</span>\n                  </span>\n                  <span onClick={watchContent}>\n                    <span className='material-icons watch'>tv</span>\n                  </span>\n                  <span onClick={shareContent}>\n                    <span className='material-icons watch'>share</span>\n                  </span>\n                  <div className='favorite-added'><strong>{props.selection.toUpperCase()}</strong> added to favorites</div>\n                </div>\n              </>\n            )}\n          <img\n          className='tmdb'\n            src='https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg'\n            alt=''\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default ResultsCard;\n"]},"metadata":{},"sourceType":"module"}