{"ast":null,"code":"import _classCallCheck from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/admin/Desktop/entertain-me/client/src/pages/Login/index.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { Container, Row, Col, Checkbox } from \"react-materialize\";\nimport { user } from \"../../utils/helpers\";\nimport \"./style.css\";\n\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n\n    _this.onChange = function (e) {\n      var state = _this.state;\n      state[e.target.name] = e.target.value;\n\n      _this.setState(state);\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n      console.log(\"console of this.props: \", _this.props);\n      var setFavorites = _this.props.setFavorites;\n      var setCelebrities = _this.props.setCelebrities;\n      var setCommunityCelebrities = _this.props.setCommunityCelebrities;\n      var setCommunityFavorites = _this.props.setCommunityFavorites;\n      axios.post(\"/api/auth/login\", {\n        username: username,\n        password: password\n      }).then(function (result) {\n        localStorage.setItem(\"jwtToken\", result.data.token);\n\n        _this.props.setToken(result.data.token);\n\n        console.log(result.data.token);\n\n        _this.setState({\n          message: \"\"\n        });\n\n        _this.setState({\n          login: true\n        });\n\n        var givenId = user()._id;\n\n        axios.get(\"/api/favorites/\".concat(givenId)).then(function (response) {\n          console.log('Login response data: ', response.data);\n          setFavorites(response.data);\n          axios.get(\"/api/celebrities/\".concat(givenId)).then(function (response) {\n            console.log('Login celeb response data: ', response.data);\n            setCelebrities(response.data);\n            axios.get('/api/celebrities').then(function (response) {\n              console.log(\"Login getCommunityCelebrities response data: \", response.data);\n              setCommunityCelebrities(response.data);\n              axios.get('/api/favorites').then(function (response) {\n                console.log(\"Login getCommunityFavorites response data: \", response.data);\n                setCommunityFavorites(response.data);\n              }).catch(function (error) {\n                console.log(error);\n              });\n            }).catch(function (error) {\n              console.log(error);\n            });\n          }).catch(function (error) {\n            console.log(error);\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }).catch(function (error) {\n        if (error.response.status === 401) {\n          _this.setState({\n            message: \"Login failed. Username or password not match\"\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      message: \"\",\n      login: false\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          message = _this$state2.message,\n          login = _this$state2.login;\n      if (login === true) return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 36\n        }\n      });\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        s: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade\",\n        alt: \"rebel without a cause\",\n        src: \"https://image.tmdb.org/t/p/w500/1sogXKywDaMH2PZ5NQwW9pfwq2F.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade\",\n        alt: \"the godfather\",\n        src: \"https://image.tmdb.org/t/p/w500/ejdD20cdHNFAYAN2DlqPToXKyzx.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade\",\n        alt: \"titanic\",\n        src: \"https://image.tmdb.org/t/p/w500/6VmFqApQRyZZzmiGOQq2C92jyvH.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade\",\n        alt: \"stranger things\",\n        src: \"https://image.tmdb.org/t/p/w500/56v2KjBlU4XaOv9rVYEQypROD7P.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        s: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade2 \",\n        alt: \"casablanca\",\n        src: \"https://image.tmdb.org/t/p/w500/wOfzdzC0QZyhUIlyjeMuUYSb8Ax.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade2\",\n        alt: \"space force\",\n        src: \"https://image.tmdb.org/t/p/w500/AnaVA0X9bFaboGnfnQDyfilUl7i.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade2\",\n        alt: \"the mandalorian\",\n        src: \"https://image.tmdb.org/t/p/w500/5GISMqlRXMEyBrgEqyvhaMMuQmJ.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade2\",\n        alt: \"ozark\",\n        src: \"https://image.tmdb.org/t/p/w500/hNaBXLiLTxMhtj7IFjOdJngXxxr.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        s: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade3\",\n        alt: \"its always sunny in philadelphia\",\n        src: \"https://image.tmdb.org/t/p/w500/uqTCaYBoSLT9MAdyQ9tU6QyCZ3A.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade3 \",\n        alt: \"the notebook\",\n        src: \"https://image.tmdb.org/t/p/w500/qom1SZSENdmHFNZBXbtJAU0WTlC.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade3\",\n        alt: \"dead to me\",\n        src: \"https://image.tmdb.org/t/p/w500/j4TXQ7OJsLx1Ba6z8XA7is0DcRZ.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade3\",\n        alt: \"forrest gump\",\n        src: \"https://image.tmdb.org/t/p/w500/7c9UVPPiTPltouxRVY6N9uugaVA.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        s: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade4 \",\n        alt: \"white lines\",\n        src: \"https://image.tmdb.org/t/p/w500/63Z7wWSky36NtD9x9XjpPD7UkUt.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade4\",\n        alt: \"spongebob squarepants\",\n        src: \"https://image.tmdb.org/t/p/w500/maFEWU41jdUOzDfRVkojq7fluIm.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade4\",\n        alt: \"jumaji: the next level\",\n        src: \"https://image.tmdb.org/t/p/w500/zTxHf9iIOCqRbxvl8W5QYKrsMLq.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"login-images fade4\",\n        alt: \"the bachelor\",\n        src: \"https://image.tmdb.org/t/p/w500/oAWB9LiRWI1dOJ00YcLlQZZNgn3.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"auth-wrapper m-auto sign-in\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"auth-inner\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: \"form-signin\",\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 33\n        }\n      }, message !== \"\" && /*#__PURE__*/React.createElement(\"div\", {\n        class: \"alert alert-warning alert-dismissible\",\n        role: \"alert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 41\n        }\n      }, message), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 37\n        }\n      }, \"Sign In\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 41\n        }\n      }, \"E-mail Address\"), /*#__PURE__*/React.createElement(\"input\", {\n        name: \"username\",\n        value: username,\n        type: \"email\",\n        className: \"form-control\",\n        placeholder: \"Enter e-mail\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 41\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        name: \"password\",\n        value: password,\n        type: \"password\",\n        className: \"form-control\",\n        placeholder: \"Enter password\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        id: \"Checkbox_3\",\n        label: \"Remember Me\",\n        value: \"remember\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 37\n        }\n      }, \"Submit\"), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        s: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 41\n        }\n      }), /*#__PURE__*/React.createElement(Col, {\n        s: 7,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"forgot-password text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 49\n        }\n      }, \"Forgot password?\")), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"forgot-password text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 45\n        }\n      }, \"Not registered? \", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/register\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 65\n        }\n      }, \"Sign up.\"))))))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/admin/Desktop/entertain-me/client/src/pages/Login/index.js"],"names":["React","Component","axios","Redirect","Container","Row","Col","Checkbox","user","Login","onChange","e","state","target","name","value","setState","onSubmit","preventDefault","username","password","console","log","props","setFavorites","setCelebrities","setCommunityCelebrities","setCommunityFavorites","post","then","result","localStorage","setItem","data","token","setToken","message","login","givenId","_id","get","response","catch","error","status"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { Container, Row, Col, Checkbox } from \"react-materialize\";\nimport { user } from \"../../utils/helpers\";\nimport \"./style.css\";\n\n\nclass Login extends Component {\n    constructor() {\n        super();\n        this.state = {\n            username: \"\",\n            password: \"\",\n            message: \"\",\n            login: false,\n        };\n    }\n    onChange = (e) => {\n        const state = this.state;\n        state[e.target.name] = e.target.value;\n        this.setState(state);\n    };\n\n    onSubmit = (e) => {\n        e.preventDefault();\n\n        const { username, password } = this.state;\n        console.log(\"console of this.props: \", this.props)\n        const { setFavorites } = this.props\n        const { setCelebrities } = this.props\n        const { setCommunityCelebrities } = this.props\n        const { setCommunityFavorites } = this.props\n\n        axios\n            .post(\"/api/auth/login\", { username, password })\n            .then((result) => {\n                localStorage.setItem(\"jwtToken\", result.data.token);\n                this.props.setToken(result.data.token);\n                console.log(result.data.token);\n                this.setState({ message: \"\" });\n                this.setState({ login: true });\n\n                const givenId = user()._id;\n\n                axios\n                    .get(`/api/favorites/${givenId}`)\n                    .then((response) => {\n                        console.log('Login response data: ', response.data);\n                        setFavorites(response.data);\n\n                        axios\n                            .get(`/api/celebrities/${givenId}`)\n                            .then((response) => {\n                                console.log('Login celeb response data: ', response.data);\n                                setCelebrities(response.data);\n\n                                axios\n                                    .get('/api/celebrities')\n                                    .then((response) => {\n                                        console.log(\"Login getCommunityCelebrities response data: \", response.data);\n                                        setCommunityCelebrities(response.data);\n\n                                        axios\n                                            .get('/api/favorites')\n                                            .then((response) => {\n                                                console.log(\"Login getCommunityFavorites response data: \", response.data);\n                                                setCommunityFavorites(response.data);\n                                            })\n                                            .catch((error) => {\n                                                console.log(error);\n                                            })\n\n                                    })\n                                    .catch((error) => {\n                                        console.log(error);\n                                    })\n\n\n                            })\n                            .catch((error) => {\n                                console.log(error);\n                            })\n\n                    })\n                    .catch((error) => {\n                        console.log(error);\n                    })\n\n            })\n            .catch((error) => {\n                if (error.response.status === 401) {\n                    this.setState({\n                        message: \"Login failed. Username or password not match\",\n                    });\n                }\n            });\n\n    };\n\n    render() {\n        const { username, password, message, login } = this.state;\n        if (login === true) return <Redirect to={\"/\"} />;\n        return (\n            <Container>\n                <Row></Row>\n                <Row>\n                    <Col s={3}>\n                        <>\n                            <img className='login-images fade' alt='rebel without a cause' src='https://image.tmdb.org/t/p/w500/1sogXKywDaMH2PZ5NQwW9pfwq2F.jpg' />\n\n                            <img className='login-images fade' alt='the godfather' src='https://image.tmdb.org/t/p/w500/ejdD20cdHNFAYAN2DlqPToXKyzx.jpg' />\n\n                            <img className='login-images fade' alt='titanic' src='https://image.tmdb.org/t/p/w500/6VmFqApQRyZZzmiGOQq2C92jyvH.jpg' />\n\n                            <img className='login-images fade' alt='stranger things' src='https://image.tmdb.org/t/p/w500/56v2KjBlU4XaOv9rVYEQypROD7P.jpg' />\n                        </>\n                    </Col>\n\n                    <Col s={3}>\n                        <>\n                            <img className='login-images fade2 ' alt='casablanca' src='https://image.tmdb.org/t/p/w500/wOfzdzC0QZyhUIlyjeMuUYSb8Ax.jpg' />\n\n                            <img className='login-images fade2' alt='space force' src='https://image.tmdb.org/t/p/w500/AnaVA0X9bFaboGnfnQDyfilUl7i.jpg' />\n\n                            <img className='login-images fade2' alt='the mandalorian' src='https://image.tmdb.org/t/p/w500/5GISMqlRXMEyBrgEqyvhaMMuQmJ.jpg' />\n\n                            <img className='login-images fade2' alt='ozark' src='https://image.tmdb.org/t/p/w500/hNaBXLiLTxMhtj7IFjOdJngXxxr.jpg' />\n                        </>\n                    </Col>\n                    <Col s={3}>\n\n                        <>\n                            <img className='login-images fade3' alt='its always sunny in philadelphia' src='https://image.tmdb.org/t/p/w500/uqTCaYBoSLT9MAdyQ9tU6QyCZ3A.jpg' />\n\n                            <img className='login-images fade3 ' alt='the notebook' src='https://image.tmdb.org/t/p/w500/qom1SZSENdmHFNZBXbtJAU0WTlC.jpg' />\n\n                            <img className='login-images fade3' alt='dead to me' src='https://image.tmdb.org/t/p/w500/j4TXQ7OJsLx1Ba6z8XA7is0DcRZ.jpg' />\n\n                            <img className='login-images fade3' alt='forrest gump' src='https://image.tmdb.org/t/p/w500/7c9UVPPiTPltouxRVY6N9uugaVA.jpg' />\n                        </>\n                    </Col>\n                    <Col s={3}>\n                        <>\n                            <img className='login-images fade4 ' alt='white lines' src='https://image.tmdb.org/t/p/w500/63Z7wWSky36NtD9x9XjpPD7UkUt.jpg' />\n\n                            <img className='login-images fade4' alt='spongebob squarepants' src='https://image.tmdb.org/t/p/w500/maFEWU41jdUOzDfRVkojq7fluIm.jpg' />\n\n                            <img className='login-images fade4' alt='jumaji: the next level' src='https://image.tmdb.org/t/p/w500/zTxHf9iIOCqRbxvl8W5QYKrsMLq.jpg' />\n\n                            <img className='login-images fade4' alt='the bachelor' src='https://image.tmdb.org/t/p/w500/oAWB9LiRWI1dOJ00YcLlQZZNgn3.jpg' />\n                        </>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col>\n                        <div className=\"auth-wrapper m-auto sign-in\">\n                            <div className=\"auth-inner\">\n                                <form className=\"form-signin\" onSubmit={this.onSubmit}>\n                                    {message !== \"\" && (\n                                        <div\n                                            class=\"alert alert-warning alert-dismissible\"\n                                            role=\"alert\"\n                                        >\n                                            {message}\n                                        </div>\n                                    )}\n                                    <h3>Sign In</h3>\n\n                                    <div className=\"form-group\">\n                                        <label>E-mail Address</label>\n                                        <input\n                                            name=\"username\"\n                                            value={username}\n                                            type=\"email\"\n                                            className=\"form-control\"\n                                            placeholder=\"Enter e-mail\"\n                                            onChange={this.onChange}\n                                            required\n                                        />\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <label>Password</label>\n                                        <input\n                                            name=\"password\"\n                                            value={password}\n                                            type=\"password\"\n                                            className=\"form-control\"\n                                            placeholder=\"Enter password\"\n                                            onChange={this.onChange}\n                                            required\n                                        />\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <Checkbox\n                                            id=\"Checkbox_3\"\n                                            label=\"Remember Me\"\n                                            value=\"remember\"\n                                        />\n                                    </div>\n                                    <br></br>\n                                    <button type=\"submit\" className=\"btn btn-primary btn-block\">\n                                        Submit\n                                            </button>\n                                    <Row>\n                                        <Col s={5}></Col>\n                                        <Col s={7}>\n                                            <p className=\"forgot-password text-left\">\n                                                <a href=\"#\">Forgot password?</a>\n                                            </p>\n\n                                            <p className=\"forgot-password text-right\">\n                                                Not registered? <a href=\"/register\">Sign up.</a>\n                                            </p>\n                                        </Col>\n                                    </Row>\n                                </form>\n                            </div>\n                        </div>\n                    </Col>\n                </Row>\n            </Container >\n        );\n    }\n}\n\nexport default Login;\n\n"]},"metadata":{},"sourceType":"module"}