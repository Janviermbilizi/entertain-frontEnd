{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react'), require('prop-types')) : typeof define === 'function' && define.amd ? define(['react', 'prop-types'], factory) : (global = global || self, global.Marquee = factory(global.React, global.PropTypes));\n})(this, function (React, PropTypes) {\n  'use strict';\n\n  var React__default = 'default' in React ? React['default'] : React;\n  PropTypes = PropTypes && Object.prototype.hasOwnProperty.call(PropTypes, 'default') ? PropTypes['default'] : PropTypes;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function () {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function translateXCSS(numPx) {\n    return \"translateX(\".concat(numPx, \"px)\");\n  }\n\n  var Marquee = /*#__PURE__*/function (_PureComponent) {\n    _inherits(Marquee, _PureComponent);\n\n    var _super = _createSuper(Marquee); // Animation properties.\n    // Position properties.\n    // Wrapper object for element refs.\n\n\n    function Marquee(props) {\n      var _this;\n\n      _classCallCheck(this, Marquee);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"_animationState\", {\n        lastRequestId: null,\n        lastTickTime: null\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"_pos\", {\n        x: null\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"_refs\", {\n        container: null,\n        inner: null\n      });\n\n      _this._setContainerRef = _this._setContainerRef.bind(_assertThisInitialized(_this));\n      _this._setInnerRef = _this._setInnerRef.bind(_assertThisInitialized(_this));\n      _this._tick = _this._tick.bind(_assertThisInitialized(_this));\n      return _this;\n    } ///////////////////////\n    // Lifecycle methods //\n    ///////////////////////\n\n\n    _createClass(Marquee, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this._resetPosition();\n\n        this._requestAnimationWithDelay();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        this._resetPosition();\n\n        this._requestAnimationWithDelay();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        window.cancelAnimationFrame(this._animationState.lastRequestId);\n      } ///////////////////////\n      // Component methods //\n      ///////////////////////\n\n    }, {\n      key: \"_setContainerRef\",\n      value: function _setContainerRef(ref) {\n        this._refs.container = ref;\n      }\n    }, {\n      key: \"_setInnerRef\",\n      value: function _setInnerRef(ref) {\n        this._refs.inner = ref;\n      }\n    }, {\n      key: \"_resetPosition\",\n      value: function _resetPosition() {\n        this._pos.x = this._getInitialPosition();\n        this._refs.inner.style.transform = translateXCSS(this._pos.x);\n      }\n    }, {\n      key: \"_requestAnimationWithDelay\",\n      value: function _requestAnimationWithDelay() {\n        var delay = this.props.delay;\n        setTimeout(this._requestAnimationIfNeeded.bind(this), delay);\n      }\n    }, {\n      key: \"_requestAnimationIfNeeded\",\n      value: function _requestAnimationIfNeeded() {\n        var shouldAnimate = this._refs.container && this._refs.inner && this._refs.inner.scrollWidth > this._refs.container.clientWidth;\n\n        if (!shouldAnimate) {\n          return;\n        }\n\n        this._animationState.lastRequestId = window.requestAnimationFrame(this._tick);\n      }\n    }, {\n      key: \"_tick\",\n      value: function _tick(time) {\n        var lastTickTime = this._animationState.lastTickTime;\n\n        if (lastTickTime) {\n          this._updateInnerPosition(time - lastTickTime);\n        }\n\n        this._animationState.lastTickTime = time;\n\n        this._requestAnimationIfNeeded();\n      }\n    }, {\n      key: \"_updateInnerPosition\",\n      value: function _updateInnerPosition(timeDelta) {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            direction = _this$props.direction,\n            speed = _this$props.speed,\n            childMargin = _this$props.childMargin;\n\n        var nextPosX = function () {\n          if (direction === 'right') {\n            var nextPos = _this2._pos.x + timeDelta * speed;\n            return nextPos > -childMargin ? _this2._getInitialPosition() : nextPos;\n          }\n\n          if (direction === 'left') {\n            var _nextPos = _this2._pos.x - timeDelta * speed;\n\n            return _nextPos < -(_this2._refs.inner.clientWidth / 2) - childMargin ? _this2._getInitialPosition() : _nextPos;\n          }\n\n          return _this2._pos.x;\n        }();\n\n        this._pos.x = nextPosX;\n        this._refs.inner.style.transform = translateXCSS(nextPosX);\n      }\n    }, {\n      key: \"_getInitialPosition\",\n      value: function _getInitialPosition() {\n        var _this$props2 = this.props,\n            direction = _this$props2.direction,\n            childMargin = _this$props2.childMargin;\n        return direction === 'right' ? -(this._refs.inner.clientWidth / 2) - childMargin : -childMargin;\n      } ////////////////////\n      // Render methods //\n      ////////////////////\n\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props3 = this.props,\n            childMargin = _this$props3.childMargin,\n            children = _this$props3.children;\n\n        var Child = function Child() {\n          return /*#__PURE__*/React__default.createElement(\"span\", {\n            style: {\n              margin: \"0 \".concat(childMargin, \"px\")\n            }\n          }, children);\n        };\n\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          ref: this._setContainerRef,\n          style: {\n            overflowX: 'hidden'\n          }\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          ref: this._setInnerRef,\n          style: {\n            display: 'inline-block'\n          }\n        }, /*#__PURE__*/React__default.createElement(Child, null), /*#__PURE__*/React__default.createElement(Child, null)));\n      }\n    }]);\n\n    return Marquee;\n  }(React.PureComponent);\n\n  _defineProperty(Marquee, \"propTypes\", {\n    /**\n     * Animation speed, in pixels per milliseconds.\n     * Defaults to 0.04.\n     */\n    speed: PropTypes.number,\n\n    /**\n     * Direction of movement; either 'left' or 'right'.\n     * Defaults to 'right'.\n     */\n    direction: PropTypes.oneOf(['left', 'right']),\n\n    /**\n     * Delay until animation starts, in milliseconds.\n     * Defaults to three seconds.\n     */\n    delay: PropTypes.number,\n\n    /**\n     * Horizontal margin between children, in pixels.\n     * Defaults to 10px.\n     */\n    childMargin: PropTypes.number,\n\n    /**\n     * Children to render.\n     * Default is `null`.\n     */\n    children: PropTypes.node\n  });\n\n  _defineProperty(Marquee, \"defaultProps\", {\n    speed: 0.04,\n    delay: 3000,\n    direction: 'right',\n    childMargin: 15,\n    children: null\n  });\n\n  return Marquee;\n});","map":null,"metadata":{},"sourceType":"script"}