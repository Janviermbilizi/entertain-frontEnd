{"ast":null,"code":"import _regeneratorRuntime from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/admin/Desktop/entertain-me/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/admin/Desktop/entertain-me/client/src/pages/Movies/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport \"materialize-css\";\nimport { Container, Row, Col } from \"react-materialize\";\nimport ResultsCard from \"../../components/ResultsCard\";\nimport SearchBar from \"../../components/SearchBar\";\nimport Trailer from \"../../components/Trailer\";\nimport Favorites from \"../../components/Favorites\";\nimport FavoritesDefault from \"../../components/FavoritesDefault\";\nimport Trending from \"../../components/Trending\";\nimport RelatedCard from \"../../components/RelatedCard\";\nimport DiscoverCardDefault from \"../../components/DiscoverCardDefault\";\nimport Upcoming from \"../../components/Upcoming\";\nimport API from \"../../utils/API\";\nimport axios from \"axios\";\nimport { user } from \"../../utils/helpers\";\nimport $ from 'jquery';\nimport './style.css';\n\nvar MoviePage = function MoviePage(_ref) {\n  var _React$createElement;\n\n  var favorites = _ref.favorites,\n      setFavorites = _ref.setFavorites,\n      token = _ref.token,\n      communityFavorites = _ref.communityFavorites,\n      setCommunityFavorites = _ref.setCommunityFavorites;\n  {\n    $('.search-fail').hide();\n  }\n\n  var _useState = useState({\n    userInput: \"\",\n    mediaType: \"\",\n    selection: \"\",\n    tvShow: \"\",\n    release: \"\",\n    overview: \"\",\n    poster: \"\",\n    id: \"\",\n    backdrop: \"\",\n    genre: \"\",\n    genre2: \"\",\n    score: \"\",\n    trailer: \"\",\n    tvTrailer: \"\",\n    runtime: \"\",\n    rating: \"\",\n    network: \"\",\n    networkLogo: \"\",\n    studio: \"\",\n    studioLogo: \"\",\n    lastAir: \"\",\n    lastEpisode: \"\",\n    trendingMovies: \"\",\n    relatedMovies: \"\",\n    relatedInfo: \"\",\n    related1: \"\",\n    related2: \"\",\n    related3: \"\",\n    related4: \"\",\n    related5: \"\",\n    star1: \"\",\n    star2: \"\",\n    director: \"\",\n    director2: \"\",\n    logo: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1]; //destructuring to use above values directly\n\n\n  var userInput = state.userInput,\n      mediaType = state.mediaType,\n      selection = state.selection,\n      release = state.release,\n      overview = state.overview,\n      poster = state.poster,\n      id = state.id,\n      backdrop = state.backdrop,\n      genre = state.genre,\n      genre2 = state.genre2,\n      score = state.score,\n      trailer = state.trailer,\n      tvTrailer = state.tvTrailer,\n      runtime = state.runtime,\n      rating = state.rating,\n      network = state.network,\n      studio = state.studio,\n      lastAir = state.lastAir,\n      lastEpisode = state.lastEpisode,\n      related1 = state.related1,\n      related2 = state.related2,\n      related3 = state.related3,\n      related4 = state.related4,\n      related5 = state.related5,\n      star1 = state.star1,\n      star2 = state.star2,\n      director = state.director,\n      director2 = state.director2,\n      logo = state.logo,\n      provider = state.provider;\n  var imageURL = \"https://image.tmdb.org/t/p/w500\";\n  var trailerURL = \"https://www.youtube.com/embed/\"; // Favorites delete function\n\n  function deleteMedia(mediaName) {\n    var userId = user()._id;\n\n    var favList = favorites.slice();\n    var newFavList = favList.filter(function (item) {\n      return item.media_name !== mediaName;\n    });\n    console.log(\"delete new fav list: \", newFavList);\n    setFavorites(newFavList);\n    axios.delete(\"/api/favorites/\".concat(userId, \"/\").concat(mediaName)).then(function (result) {\n      console.log(\"Deleting: \", mediaName);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  function mediaSearch(_x) {\n    return _mediaSearch.apply(this, arguments);\n  }\n\n  function _mediaSearch() {\n    _mediaSearch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(entry) {\n      var mainData, searchInfo, id, title, name, release_date, first_air_date, overview, poster_path, backdrop_path, vote_average, trailerData, trailerInfo, ratingData, results, usRating, rating, relatedData, relatedInfo, creditsData, creditsInfo, tvTrailerData, tvTrailerInfo, trendingData, trendingInfo;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              !entry ? alert(\"Enter a movie or tv show title.\") : console.log('na');\n              _context.next = 3;\n              return API.mainSearch(entry);\n\n            case 3:\n              mainData = _context.sent;\n\n              if (mainData.data.results[0]) {\n                _context.next = 8;\n                break;\n              }\n\n              $('.search-fail').show();\n              setTimeout(function () {\n                $('.search-fail').hide();\n              }, 2000);\n              return _context.abrupt(\"return\");\n\n            case 8:\n              $('.search-fail').hide();\n              searchInfo = mainData.data.results[0];\n              id = searchInfo.id, title = searchInfo.title, name = searchInfo.name, release_date = searchInfo.release_date, first_air_date = searchInfo.first_air_date, overview = searchInfo.overview, poster_path = searchInfo.poster_path, backdrop_path = searchInfo.backdrop_path, vote_average = searchInfo.vote_average;\n              _context.next = 13;\n              return API.trailerSearch(id, searchInfo.media_type);\n\n            case 13:\n              trailerData = _context.sent;\n              trailerInfo = trailerData.data;\n              _context.next = 17;\n              return API.ratingSearch(id, searchInfo.media_type);\n\n            case 17:\n              ratingData = _context.sent;\n              results = ratingData.data.results;\n              usRating = results.find(function (el) {\n                return el.iso_3166_1 === \"US\";\n              });\n              rating = searchInfo.media_type === \"movie\" ? usRating.release_dates.find(function (el) {\n                return el.certification !== \"\";\n              }) : usRating != null ? usRating.rating ? usRating.rating : console.log('rferf') : console.log('rferfd');\n              _context.next = 23;\n              return API.relatedSearch(id, searchInfo.media_type);\n\n            case 23:\n              relatedData = _context.sent;\n              relatedInfo = relatedData.data;\n              _context.next = 27;\n              return API.creditsSearch(id, searchInfo.media_type);\n\n            case 27:\n              creditsData = _context.sent;\n              creditsInfo = creditsData.data;\n              _context.next = 31;\n              return API.tvTrailerSearch(id, searchInfo.media_type);\n\n            case 31:\n              tvTrailerData = _context.sent;\n              tvTrailerInfo = tvTrailerData.data;\n              _context.next = 35;\n              return API.trendingSearch(searchInfo.media_type);\n\n            case 35:\n              trendingData = _context.sent;\n              trendingInfo = trendingData.data;\n              console.log(\"main call: \", mainData);\n              console.log(\"trailer call: \", trailerData);\n              console.log(\"TV trailer call: \", tvTrailerData);\n              console.log(\"rating call: \", ratingData);\n              console.log(\"related movies call: \", relatedData);\n              console.log(\"related TV call: \", relatedData);\n              console.log(\"trending  call: \", trendingData); // console.log(\"credits  call: \", creditsInfo.cast[0].name);\n              // console.log(\"tvTrailerInfo: \", tvTrailerInfo.data);\n\n              console.log(\"relatedData.data \", relatedData.data);\n              console.log(\"relatedInfo\", relatedInfo.results[0].name);\n              console.log(\"trendingData: \", trendingData); // console.log('SEARCH>>>>>>', tvTrailerInfo.networks[0].logo_path);\n\n              setState(_objectSpread({}, state, {\n                mediaType: searchInfo.media_type,\n                movie: title,\n                tvShow: name,\n                selection: searchInfo.media_type === \"movie\" ? title : name,\n                release: searchInfo.media_type === \"movie\" ? release_date : first_air_date,\n                overview: overview ? overview : 'NA',\n                poster: \"\".concat(imageURL) + poster_path,\n                id: id,\n                backdrop: \"\".concat(imageURL) + backdrop_path,\n                genre: trailerInfo.genres[0].name,\n                genre2: trailerInfo.genres.length > 1 ? trailerInfo.genres[1].name : \"\",\n                score: vote_average,\n                trailerPath: trailerInfo.videos.results[0] ? trailerInfo.videos.results[0].key : console.log('no trailer available'),\n                trailer: trailerInfo.videos.results[0] ? \"\".concat(trailerURL) + trailerInfo.videos.results[0].key : console.log('no trailer available'),\n                tvTrailer: trailerInfo.videos.results[0] ? \"\".concat(trailerURL) + tvTrailerInfo.videos.results[0].key : console.log('no trailer available'),\n                runtime: trailerInfo.runtime ? searchInfo.media_type === \"movie\" ? trailerInfo.runtime + ' min' : trailerInfo.episode_run_time[0] : 'NA',\n                rating: searchInfo.media_type === \"movie\" ? rating.certification : usRating ? usRating.rating : 'NA',\n                // TEMPORARY\n                star1: creditsInfo.cast.length > 0 ? creditsInfo.cast[0].name : 'NA',\n                star2: creditsInfo.cast.length > 1 ? ', ' + creditsInfo.cast[1].name : console.log('No results'),\n                director: searchInfo.media_type === \"movie\" && creditsInfo.crew.find(function (el) {\n                  return el.job === \"Director\";\n                }).name ? creditsInfo.crew.filter(function (el) {\n                  return el.job === \"Director\";\n                })[0].name : \"\",\n                director2: searchInfo.media_type === \"movie\" && creditsInfo.crew.filter(function (el) {\n                  return el.job === \"Director\";\n                }).length === 2 ? \"& \" + creditsInfo.crew.filter(function (el) {\n                  return el.job === \"Director\";\n                })[1].name : \"\",\n                logo: tvTrailerInfo.production_companies.length > 0 ? searchInfo.media_type === \"movie\" && tvTrailerInfo.production_companies.filter(function (el) {\n                  return el.logo_path != null;\n                }) ? /*#__PURE__*/React.createElement(\"img\", {\n                  className: \"network-logo\",\n                  src: imageURL + tvTrailerInfo.production_companies.filter(function (el) {\n                    return el.logo_path != null;\n                  })[0].logo_path,\n                  alt: \"studio logo\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 13\n                  }\n                }) : /*#__PURE__*/React.createElement(\"div\", {\n                  className: \"network-logo-alt\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 13\n                  }\n                }, /*#__PURE__*/React.createElement(\"span\", {\n                  className: \"logo-box1\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 47\n                  }\n                }, \"ON\"), /*#__PURE__*/React.createElement(\"span\", {\n                  className: \"logo-box2\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 84\n                  }\n                }, tvTrailerInfo.networks[0].name)) : /*#__PURE__*/React.createElement(\"div\", {\n                  className: \"network-logo-alt\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 14\n                  }\n                }, /*#__PURE__*/React.createElement(\"span\", {\n                  className: \"logo-box1\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 48\n                  }\n                }, \"ON\"), /*#__PURE__*/React.createElement(\"span\", {\n                  className: \"logo-box2\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 85\n                  }\n                }, tvTrailerInfo.networks[0].name.toUpperCase())),\n                network: searchInfo.media_type === \"tv\" ? tvTrailerInfo.networks[0].name : \"tv studio icon goes here\",\n                studio: searchInfo.media_type === \"movie\" ? trailerInfo.production_companies[0].name : \"movie studio icon goes here\",\n                provider: searchInfo.media_type === \"tv\" ? {\n                  network: network\n                } : {\n                  studio: studio\n                },\n                lastAir: searchInfo.media_type === \"tv\" ? tvTrailerInfo.last_air_date : \" no last air date for movies\",\n                lastEpisode: searchInfo.media_type === \"tv\" ? tvTrailerInfo.last_episode_to_air.name : \" no last episode for movies\",\n                related1: searchInfo.media_type === \"tv\" ? [relatedInfo.results[0].name, \"\".concat(imageURL) + relatedInfo.results[0].poster_path] : [relatedInfo.results[0].original_title, \"\".concat(imageURL) + relatedInfo.results[0].poster_path],\n                related2: searchInfo.media_type === \"tv\" ? [relatedInfo.results[1].name, \"\".concat(imageURL) + relatedInfo.results[1].poster_path] : [relatedInfo.results[1].original_title, \"\".concat(imageURL) + relatedInfo.results[1].poster_path],\n                related3: searchInfo.media_type === \"tv\" ? [relatedInfo.results[2].name, \"\".concat(imageURL) + relatedInfo.results[2].poster_path] : [relatedInfo.results[2].original_title, \"\".concat(imageURL) + relatedInfo.results[2].poster_path],\n                related4: searchInfo.media_type === \"tv\" ? [relatedInfo.results[3].name, \"\".concat(imageURL) + relatedInfo.results[3].poster_path] : [relatedInfo.results[3].original_title, \"\".concat(imageURL) + relatedInfo.results[3].poster_path],\n                related5: searchInfo.media_type === \"tv\" ? [relatedInfo.results[4].name, \"\".concat(imageURL) + relatedInfo.results[4].poster_path] : [relatedInfo.results[4].original_title, \"\".concat(imageURL) + relatedInfo.results[4].poster_path]\n              }));\n\n            case 48:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    return _mediaSearch.apply(this, arguments);\n  }\n\n  var handleInputChange = function handleInputChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setState(_objectSpread({}, state, _defineProperty({}, name, value)));\n  };\n\n  var handleFormSubmit = function handleFormSubmit(e) {\n    e.preventDefault();\n    mediaSearch(userInput);\n    $('.search-input-box').val('');\n  };\n\n  var favoritesTV = favorites.filter(function (item) {\n    return item.media_type === \"tv\";\n  });\n  var favoritesMovie = favorites.filter(function (item) {\n    return item.media_type === \"movie\";\n  });\n  useEffect(function () {\n    axios.get('/api/favorites').then(function (response) {\n      console.log(\"Movie page getCommunityFavorites response data: \", response.data);\n      setCommunityFavorites(response.data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    m: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    m: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-fail\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 13\n    }\n  }, \"No results found for \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 63\n    }\n  }, userInput.toUpperCase()), \".\"), /*#__PURE__*/React.createElement(SearchBar, {\n    className: \"search-box\",\n    handleInputChange: handleInputChange,\n    handleFormSubmit: handleFormSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    m: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 9\n    }\n  })), id ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    s: 9,\n    className: \"movie-image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ResultsCard, (_React$createElement = {\n    className: \"results\",\n    token: token,\n    selection: selection,\n    mediaType: mediaType,\n    release: moment(release, \"YYYY-MM-DD\").format(\"MMM Do, YYYY\"),\n    overview: overview,\n    poster: poster,\n    backdrop: backdrop,\n    genre: genre,\n    genre2: genre2,\n    score: score,\n    runtime: runtime,\n    rating: rating,\n    network: network,\n    provider: provider,\n    logo: logo,\n    star1: star1,\n    star2: star2,\n    director: director,\n    director2: director2,\n    lastAir: lastAir,\n    lastEpisode: lastEpisode,\n    favorites: favorites,\n    favoritesTV: favoritesTV,\n    favoritesMovie: favoritesMovie,\n    setFavorites: setFavorites,\n    setCommunityFavorites: setCommunityFavorites\n  }, _defineProperty(_React$createElement, \"token\", token), _defineProperty(_React$createElement, \"__self\", _this), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 15\n  }), _React$createElement)), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    m: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    m: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 17\n    }\n  }, mediaType === \"tv\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Trailer, {\n    trailer: tvTrailer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 23\n    }\n  })) : console.log(\"No movie trailer available.\"), mediaType === \"movie\" ? /*#__PURE__*/React.createElement(Trailer, {\n    trailer: trailer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 21\n    }\n  }) : console.log(\"No TV trailer available.\")), /*#__PURE__*/React.createElement(Col, {\n    m: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    s: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 17\n    }\n  }), token ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Favorites, {\n    heading: \"MY MOVIES\",\n    favorites: favoritesMovie,\n    mediaSearch: mediaSearch,\n    deleteMedia: deleteMedia,\n    className: 'fav-text',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Favorites, {\n    heading: \"MY SHOWS\",\n    favorites: favoritesTV,\n    mediaSearch: mediaSearch,\n    deleteMedia: deleteMedia,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(FavoritesDefault, {\n    heading: 'COMMUNITY FAVORITES',\n    communityFavorites: communityFavorites,\n    mediaSearch: mediaSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 21\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(FavoritesDefault, {\n    heading: 'COMMUNITY FAVORITES',\n    communityFavorites: communityFavorites,\n    mediaSearch: mediaSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(RelatedCard, {\n    className: \"related\",\n    heading: \"RELATED\",\n    title1: related1[0],\n    title2: related2[0],\n    title3: related3[0],\n    title4: related4[0],\n    title5: related5[0],\n    poster1: related1[1],\n    poster2: related2[1],\n    poster3: related3[1],\n    poster4: related4[1],\n    poster5: related5[1],\n    mediaSearch: mediaSearch,\n    favorites: communityFavorites,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 23\n    }\n  })))))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    m: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(DiscoverCardDefault, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    m: 4,\n    className: \"movie-welcome\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"movie-welcome-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 17\n    }\n  }, \"Good times are meant to share.\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"movie-welcome-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 17\n    }\n  }, \"Friends don't let friends miss out on the best Hollywood blockbusters and binge-worthy TV shows.  Tell someone about entertainMe today and stay updated on their latest obsessions.\")), /*#__PURE__*/React.createElement(Col, {\n    m: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(FavoritesDefault, {\n    heading: 'COMMUNITY FAVORITES',\n    communityFavorites: communityFavorites,\n    mediaSearch: mediaSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    m: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Trending, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    m: 7,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Upcoming, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default MoviePage;","map":{"version":3,"sources":["/Users/admin/Desktop/entertain-me/client/src/pages/Movies/index.js"],"names":["React","useState","useEffect","moment","Container","Row","Col","ResultsCard","SearchBar","Trailer","Favorites","FavoritesDefault","Trending","RelatedCard","DiscoverCardDefault","Upcoming","API","axios","user","$","MoviePage","favorites","setFavorites","token","communityFavorites","setCommunityFavorites","hide","userInput","mediaType","selection","tvShow","release","overview","poster","id","backdrop","genre","genre2","score","trailer","tvTrailer","runtime","rating","network","networkLogo","studio","studioLogo","lastAir","lastEpisode","trendingMovies","relatedMovies","relatedInfo","related1","related2","related3","related4","related5","star1","star2","director","director2","logo","state","setState","provider","imageURL","trailerURL","deleteMedia","mediaName","userId","_id","favList","slice","newFavList","filter","item","media_name","console","log","delete","then","result","catch","error","mediaSearch","entry","alert","mainSearch","mainData","data","results","show","setTimeout","searchInfo","title","name","release_date","first_air_date","poster_path","backdrop_path","vote_average","trailerSearch","media_type","trailerData","trailerInfo","ratingSearch","ratingData","usRating","find","el","iso_3166_1","release_dates","certification","relatedSearch","relatedData","creditsSearch","creditsData","creditsInfo","tvTrailerSearch","tvTrailerData","tvTrailerInfo","trendingSearch","trendingData","trendingInfo","movie","genres","length","trailerPath","videos","key","episode_run_time","cast","crew","job","production_companies","logo_path","networks","toUpperCase","last_air_date","last_episode_to_air","original_title","handleInputChange","e","target","value","handleFormSubmit","preventDefault","val","favoritesTV","favoritesMovie","get","response","format"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport \"materialize-css\";\nimport { Container, Row, Col } from \"react-materialize\";\n\nimport ResultsCard from \"../../components/ResultsCard\";\nimport SearchBar from \"../../components/SearchBar\";\nimport Trailer from \"../../components/Trailer\";\nimport Favorites from \"../../components/Favorites\";\nimport FavoritesDefault from \"../../components/FavoritesDefault\";\nimport Trending from \"../../components/Trending\";\nimport RelatedCard from \"../../components/RelatedCard\";\nimport DiscoverCardDefault from \"../../components/DiscoverCardDefault\";\nimport Upcoming from \"../../components/Upcoming\";\nimport API from \"../../utils/API\";\nimport axios from \"axios\";\nimport { user } from \"../../utils/helpers\";\nimport $ from 'jquery';\nimport './style.css';\n\nconst MoviePage = ({ favorites, setFavorites, token, communityFavorites, setCommunityFavorites }) => {\n  { $('.search-fail').hide() }\n  const [state, setState] = useState({\n    userInput: \"\",\n    mediaType: \"\",\n    selection: \"\",\n    tvShow: \"\",\n    release: \"\",\n    overview: \"\",\n    poster: \"\",\n    id: \"\",\n    backdrop: \"\",\n    genre: \"\",\n    genre2: \"\",\n    score: \"\",\n    trailer: \"\",\n    tvTrailer: \"\",\n    runtime: \"\",\n    rating: \"\",\n    network: \"\",\n    networkLogo: \"\",\n    studio: \"\",\n    studioLogo: \"\",\n    lastAir: \"\",\n    lastEpisode: \"\",\n    trendingMovies: \"\",\n    relatedMovies: \"\",\n    relatedInfo: \"\",\n    related1: \"\",\n    related2: \"\",\n    related3: \"\",\n    related4: \"\",\n    related5: \"\",\n    star1: \"\",\n    star2: \"\",\n    director: \"\",\n    director2: \"\",\n    logo: \"\",\n  });\n\n  //destructuring to use above values directly\n  const {\n    userInput,\n    mediaType,\n    selection,\n    release,\n    overview,\n    poster,\n    id,\n    backdrop,\n    genre,\n    genre2,\n    score,\n    trailer,\n    tvTrailer,\n    runtime,\n    rating,\n    network,\n    studio,\n    lastAir,\n    lastEpisode,\n    related1,\n    related2,\n    related3,\n    related4,\n    related5,\n    star1,\n    star2,\n    director,\n    director2,\n    logo,\n    provider,\n  } = state;\n\n  const imageURL = \"https://image.tmdb.org/t/p/w500\";\n  const trailerURL = \"https://www.youtube.com/embed/\";\n\n  // Favorites delete function\n\n  function deleteMedia(mediaName) {\n    const userId = user()._id;\n\n    const favList = favorites.slice();\n    const newFavList = favList.filter((item) => item.media_name !== mediaName);\n    console.log(\"delete new fav list: \", newFavList);\n    setFavorites(newFavList);\n\n    axios\n      .delete(`/api/favorites/${userId}/${mediaName}`)\n      .then((result) => {\n        console.log(\"Deleting: \", mediaName);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  async function mediaSearch(entry) {\n    !entry ? alert(\"Enter a movie or tv show title.\") : console.log('na');\n    const mainData = await API.mainSearch(entry);\n    if (!mainData.data.results[0]) {\n      $('.search-fail').show()\n      setTimeout(() => {\n        $('.search-fail').hide()\n      }, 2000)\n      return;\n    }\n    $('.search-fail').hide();\n\n    const searchInfo = mainData.data.results[0];\n    const {\n      id,\n      title,\n      name,\n      release_date,\n      first_air_date,\n      overview,\n      poster_path,\n      backdrop_path,\n      vote_average,\n    } = searchInfo;\n\n    const trailerData = await API.trailerSearch(\n      id,\n      searchInfo.media_type\n    );\n    const trailerInfo = trailerData.data;\n    const ratingData = await API.ratingSearch(\n      id,\n      searchInfo.media_type\n    );\n    const { results } = ratingData.data;\n    const usRating = results.find((el) => el.iso_3166_1 === \"US\");\n    const rating =\n      searchInfo.media_type === \"movie\"\n        ? usRating.release_dates.find((el) => el.certification !== \"\")\n        : usRating != null\n          ? (usRating.rating ? (usRating.rating) : (console.log('rferf'))) : (console.log('rferfd'));\n    const relatedData = await API.relatedSearch(\n      id,\n      searchInfo.media_type\n    );\n    const relatedInfo = relatedData.data;\n\n    const creditsData = await API.creditsSearch(\n      id,\n      searchInfo.media_type\n    );\n\n    const creditsInfo = creditsData.data;\n\n    const tvTrailerData = await API.tvTrailerSearch(\n      id,\n      searchInfo.media_type\n    );\n    const tvTrailerInfo = tvTrailerData.data;\n\n    const trendingData = await API.trendingSearch(\n      searchInfo.media_type\n    );\n    const trendingInfo = trendingData.data;\n\n    console.log(\"main call: \", mainData);\n    console.log(\"trailer call: \", trailerData);\n    console.log(\"TV trailer call: \", tvTrailerData);\n    console.log(\"rating call: \", ratingData);\n    console.log(\"related movies call: \", relatedData);\n    console.log(\"related TV call: \", relatedData);\n    console.log(\"trending  call: \", trendingData);\n    // console.log(\"credits  call: \", creditsInfo.cast[0].name);\n    // console.log(\"tvTrailerInfo: \", tvTrailerInfo.data);\n    console.log(\"relatedData.data \", relatedData.data);\n    console.log(\"relatedInfo\", relatedInfo.results[0].name);\n    console.log(\"trendingData: \", trendingData);\n    // console.log('SEARCH>>>>>>', tvTrailerInfo.networks[0].logo_path);\n\n    setState({\n      ...state,\n      mediaType: searchInfo.media_type,\n      movie: title,\n      tvShow: name,\n      selection: searchInfo.media_type === \"movie\" ? title : name,\n      release:\n        searchInfo.media_type === \"movie\"\n          ? release_date\n          : first_air_date,\n\n      overview: overview ? (overview) : ('NA'),\n      poster: `${imageURL}` + poster_path,\n      id: id,\n      backdrop: `${imageURL}` + backdrop_path,\n      genre: trailerInfo.genres[0].name,\n      genre2: trailerInfo.genres.length > 1 ? trailerInfo.genres[1].name : \"\",\n      score: vote_average,\n      trailerPath: trailerInfo.videos.results[0] ? trailerInfo.videos.results[0].key : console.log('no trailer available'),\n      trailer: trailerInfo.videos.results[0] ? `${trailerURL}` + trailerInfo.videos.results[0].key : console.log('no trailer available'),\n      tvTrailer: trailerInfo.videos.results[0] ? (`${trailerURL}` + tvTrailerInfo.videos.results[0].key) : console.log('no trailer available'),\n      runtime:\n        trailerInfo.runtime ? (\n          searchInfo.media_type === \"movie\"\n            ? trailerInfo.runtime + ' min'\n            : trailerInfo.episode_run_time[0]\n        ) : (\n            'NA'\n          ),\n      rating:\n        searchInfo.media_type === \"movie\"\n          ? rating.certification\n          : usRating ? usRating.rating : 'NA', // TEMPORARY\n      star1:\n        creditsInfo.cast.length > 0\n          ? creditsInfo.cast[0].name\n          : 'NA',\n      star2:\n        creditsInfo.cast.length > 1\n          ? ', ' + creditsInfo.cast[1].name\n          : console.log('No results'),\n      director:\n        searchInfo.media_type === \"movie\" &&\n          creditsInfo.crew.find((el) => el.job === \"Director\").name\n          ? creditsInfo.crew.filter((el) => el.job === \"Director\")[0].name\n          : \"\",\n      director2:\n        searchInfo.media_type === \"movie\" &&\n          creditsInfo.crew.filter((el) => el.job === \"Director\").length === 2\n          ? \"& \" + creditsInfo.crew.filter((el) => el.job === \"Director\")[1].name\n          : \"\",\n      logo:\n        tvTrailerInfo.production_companies.length > 0 ? (searchInfo.media_type === \"movie\" &&\n          tvTrailerInfo.production_companies.filter((el) => el.logo_path != null)\n          ? <img className='network-logo' src={imageURL + tvTrailerInfo.production_companies.filter((el) => el.logo_path != null)[0].logo_path} alt='studio logo' />\n          : <div className='network-logo-alt'><span className='logo-box1'>ON</span><span className='logo-box2'>{tvTrailerInfo.networks[0].name}</span></div>\n        ) : (<div className='network-logo-alt'><span className='logo-box1'>ON</span><span className='logo-box2'>{tvTrailerInfo.networks[0].name.toUpperCase()}</span></div>),\n      network:\n        searchInfo.media_type === \"tv\"\n          ? tvTrailerInfo.networks[0].name\n          : \"tv studio icon goes here\",\n      studio:\n        searchInfo.media_type === \"movie\"\n          ? trailerInfo.production_companies[0].name\n          : \"movie studio icon goes here\",\n      provider:\n        searchInfo.media_type === \"tv\" ? { network } : { studio },\n      lastAir:\n        searchInfo.media_type === \"tv\"\n          ? tvTrailerInfo.last_air_date\n          : \" no last air date for movies\",\n      lastEpisode:\n        searchInfo.media_type === \"tv\"\n          ? tvTrailerInfo.last_episode_to_air.name\n          : \" no last episode for movies\",\n      related1:\n        searchInfo.media_type === \"tv\"\n          ? [\n            relatedInfo.results[0].name,\n            `${imageURL}` + relatedInfo.results[0].poster_path,\n          ]\n          : [\n            relatedInfo.results[0].original_title,\n            `${imageURL}` + relatedInfo.results[0].poster_path,\n          ],\n      related2:\n        searchInfo.media_type === \"tv\"\n          ? [\n            relatedInfo.results[1].name,\n            `${imageURL}` + relatedInfo.results[1].poster_path,\n          ]\n          : [\n            relatedInfo.results[1].original_title,\n            `${imageURL}` + relatedInfo.results[1].poster_path,\n          ],\n      related3:\n        searchInfo.media_type === \"tv\"\n          ? [\n            relatedInfo.results[2].name,\n            `${imageURL}` + relatedInfo.results[2].poster_path,\n          ]\n          : [\n            relatedInfo.results[2].original_title,\n            `${imageURL}` + relatedInfo.results[2].poster_path,\n          ],\n      related4:\n        searchInfo.media_type === \"tv\"\n          ? [\n            relatedInfo.results[3].name,\n            `${imageURL}` + relatedInfo.results[3].poster_path,\n          ]\n          : [\n            relatedInfo.results[3].original_title,\n            `${imageURL}` + relatedInfo.results[3].poster_path,\n          ],\n      related5:\n        searchInfo.media_type === \"tv\"\n          ? [\n            relatedInfo.results[4].name,\n            `${imageURL}` + relatedInfo.results[4].poster_path,\n          ]\n          : [\n            relatedInfo.results[4].original_title,\n            `${imageURL}` + relatedInfo.results[4].poster_path,\n          ]\n    });\n  }\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setState({ ...state, [name]: value });\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    mediaSearch(userInput);\n    $('.search-input-box').val('');\n  };\n  const favoritesTV = favorites.filter((item) => item.media_type === \"tv\");\n  const favoritesMovie = favorites.filter(\n    (item) => item.media_type === \"movie\"\n  );\n\n  useEffect(() => {\n    axios\n      .get('/api/favorites')\n      .then((response) => {\n        console.log(\"Movie page getCommunityFavorites response data: \", response.data);\n        setCommunityFavorites(response.data);\n      })\n  }, []);\n\n\n  return (\n    <Container>\n      <Row>\n        <Col m={4}></Col>\n        <Col m={4}>\n          <>\n            <div className='search-fail'>No results found for <strong>{userInput.toUpperCase()}</strong>.</div>\n            <SearchBar\n              className='search-box'\n              handleInputChange={handleInputChange}\n              handleFormSubmit={handleFormSubmit}\n            />\n          </>\n        </Col>\n        <Col m={4}></Col>\n      </Row>\n\n      {id ? (\n        <>\n          <Row>\n            <Col s={9} className='movie-image'>\n              <ResultsCard\n                className='results'\n                token={token}\n                selection={selection}\n                mediaType={mediaType}\n                release={moment(release, \"YYYY-MM-DD\").format(\"MMM Do, YYYY\")}\n                overview={overview}\n                poster={poster}\n                backdrop={backdrop}\n                genre={genre}\n                genre2={genre2}\n                score={score}\n                runtime={runtime}\n                rating={rating}\n                network={network}\n                provider={provider}\n                logo={logo}\n                star1={star1}\n                star2={star2}\n                director={director}\n                director2={director2}\n                lastAir={lastAir}\n                lastEpisode={lastEpisode}\n                favorites={favorites}\n                favoritesTV={favoritesTV}\n                favoritesMovie={favoritesMovie}\n                setFavorites={setFavorites}\n                setCommunityFavorites={setCommunityFavorites}\n                token={token}\n              />\n              <Row>\n                <Col m={2} ></Col>\n                <Col m={8}>\n                  {mediaType === \"tv\" ? (\n                    <>\n                      <Trailer trailer={tvTrailer} />\n                    </>\n                  ) : (\n                      console.log(\"No movie trailer available.\")\n                    )}\n                  {mediaType === \"movie\" ? (\n                    <Trailer trailer={trailer} />\n                  ) : (\n                      console.log(\"No TV trailer available.\")\n                    )}\n                </Col>\n                <Col m={2}></Col>\n              </Row>\n            </Col>\n            <Col s={3}>\n              <>\n                <br></br>\n                {token ? (\n                  <>\n                    <Favorites\n                      heading={\"MY MOVIES\"}\n                      favorites={favoritesMovie}\n                      mediaSearch={mediaSearch}\n                      deleteMedia={deleteMedia}\n                      className={'fav-text'}\n                    />\n                    <br></br>\n                    <Favorites\n                      heading={\"MY SHOWS\"}\n                      favorites={favoritesTV}\n                      mediaSearch={mediaSearch}\n                      deleteMedia={deleteMedia}\n                    />\n                    <br></br>\n                    <FavoritesDefault heading={'COMMUNITY FAVORITES'}\n                      communityFavorites={communityFavorites} mediaSearch={mediaSearch}\n                    />\n                  </>\n                ) : (\n                    <>\n                      <br></br>\n                      <FavoritesDefault heading={'COMMUNITY FAVORITES'}\n                        communityFavorites={communityFavorites} mediaSearch={mediaSearch}\n                      />\n                      <br></br>\n                      <RelatedCard\n                        className=\"related\"\n                        heading={\"RELATED\"}\n                        title1={related1[0]}\n                        title2={related2[0]}\n                        title3={related3[0]}\n                        title4={related4[0]}\n                        title5={related5[0]}\n                        poster1={related1[1]}\n                        poster2={related2[1]}\n                        poster3={related3[1]}\n                        poster4={related4[1]}\n                        poster5={related5[1]}\n                        mediaSearch={mediaSearch}\n                        favorites={communityFavorites}\n                      />\n                    </>\n                  )}\n\n              </>\n            </Col>\n          </Row>\n        </>\n      ) : (\n          <>\n            <Row>\n              <Col m={5}>\n                <>\n                  <br></br>\n                  <DiscoverCardDefault />\n                </>\n              </Col>\n              <Col m={4} className='movie-welcome'>\n                <h4 className='movie-welcome-title'>Good times are meant to share.</h4>\n                <p className='movie-welcome-text'>Friends don't let friends miss out on the best Hollywood blockbusters and binge-worthy TV shows.  Tell someone about entertainMe today and stay updated on their latest obsessions.</p>\n              </Col>\n              <Col m={3}>\n                <>\n                  <br></br>\n                  <FavoritesDefault heading={'COMMUNITY FAVORITES'}\n                    communityFavorites={communityFavorites} mediaSearch={mediaSearch}\n                  />\n                </>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col m={5}>\n                <Trending\n                />\n              </Col>\n              <Col m={7}>\n                <Upcoming\n                />\n              </Col>\n            </Row>\n          </>\n        )}\n      <Row></Row>\n    </Container>\n  );\n};\nexport default MoviePage;"]},"metadata":{},"sourceType":"module"}